---
title: 工具
description: Ripperdoc 内置可用工具
---

Ripperdoc 内置多个工具，让 AI 能与你的代码库和系统交互。

## 文件操作

### Read

读取文件内容，可选行范围。

```
Read file: /path/to/file.py
Read lines 10-50: /path/to/file.py
```

### Edit

使用精确字符串匹配替换文件中的文本。

```
Edit file: /path/to/file.py
Replace "old_text" with "new_text"
```

### Write

创建或覆盖文件。

```
Write to: /path/to/new_file.py
Content: [file contents]
```

### MultiEdit

在一次操作中执行多个编辑。

### NotebookEdit

编辑 Jupyter notebook 单元格（`.ipynb` 文件）。

## 搜索工具

### Glob

按模式查找文件。

```
Find all Python files: **/*.py
Find test files: tests/**/*_test.py
```

### Grep

使用正则搜索文件内容。

```
Search for "def process": src/**/*.py
Find TODO comments: rg "TODO|FIXME"
```

## Shell 执行

### Bash

执行 shell 命令，支持超时与 sandbox。

```
Run: npm test
Run in sandbox: ls -la (read-only)
Run in background: npm run build
```

特性：
- 实时输出流
- 超时配置
- 只读 sandbox 模式
- 后台执行

### BashOutput

获取后台 shell 命令的输出。

### KillBash

终止运行中的后台命令。

## 导航

### LS

列出目录内容。

```
List: /path/to/directory
```

## LSP 工具

### LSP

与语言服务器协议（LSP）服务器交互，获取代码智能功能。

支持的操作：

| 操作 | 说明 |
|-----------|-------------|
| `goToDefinition` | 查找符号定义位置 |
| `findReferences` | 查找符号的所有引用 |
| `hover` | 获取悬停信息（文档、类型信息） |
| `documentSymbol` | 获取文档中的所有符号 |
| `workspaceSymbol` | 在工作区中搜索符号 |
| `goToImplementation` | 查找接口的实现 |

使用示例：

```
LSP goToDefinition: src/main.py line 12, character 8
LSP findReferences: src/api.py line 45, character 15
LSP documentSymbol: src/models.py
```

### LSP 配置

LSP 服务器在以下 JSON 文件中配置（按顺序加载）：

1. `~/.ripperdoc/lsp.json` - 全局配置
2. `~/.lsp.json` - 备选全局位置
3. `.ripperdoc/lsp.json` - 项目配置
4. `.lsp.json` - 备选项目位置

配置示例：

```json
{
  "servers": {
    "python": {
      "command": "pylsp",
      "languages": ["python"],
      "extensions": [".py"]
    },
    "typescript": {
      "command": "typescript-language-server",
      "args": ["--stdio"],
      "languages": ["typescript", "javascript"],
      "extensions": [".ts", ".tsx", ".js", ".jsx"]
    },
    "rust": {
      "command": "rust-analyzer",
      "languages": ["rust"],
      "rootPatterns": ["Cargo.toml"]
    }
  }
}
```

配置字段：

| 字段 | 说明 |
|-------|-------------|
| `command` | LSP 服务器命令（必需） |
| `args` | 命令参数 |
| `languages` | 要匹配的语言 ID |
| `extensions` | 要匹配的文件扩展名 |
| `extensionToLanguage` | 扩展名到语言 ID 的映射 |
| `rootPatterns` | 标识项目根目录的文件/目录 |
| `env` | 服务器环境变量 |
| `initializationOptions` | LSP 初始化选项 |
| `settings` | LSP 工作区设置 |

## 规划与跟踪

### TodoRead / TodoWrite

管理当前项目的持久化待办事项。

```
Create todo: Implement user authentication
Mark complete: #1
```

### EnterPlanMode / ExitPlanMode

进入规划模式，在写代码前先设计实现方案。

## 交互

### AskUserQuestion

向用户请求澄清或选择。

## 子代理

### Task

把任务委派给专门的子代理。

```
Run research task: Find all API endpoints
Run code review: Check for security issues
```

## 扩展

### Skill

加载并执行技能包。

```
Load skill: pdf
Load skill: pptx
```

### ToolSearch

为任务查找相关工具。

## MCP 集成

### ListMcpServers

列出已连接的 MCP 服务器。

### ListMcpResources

列出 MCP 服务器中的资源。

### ReadMcpResource

读取 MCP 服务器中的资源。

## 工具权限

大多数工具在执行前需要权限。你可以：

1. 单独批准每个操作
2. 使用 `--yolo` 模式跳过提示
3. 在 `.ripperdoc/config.json` 中配置权限规则

详情请看 [权限](/zh-CN/docs/permissions)。

## 查看可用工具

使用 `/tools` 命令查看所有可用工具：

```
> /tools
```
