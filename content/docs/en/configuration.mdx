---
title: Configuration
description: Configuring Ripperdoc models and behavior
---

Ripperdoc can be configured through configuration files or environment variables.

## Configuration Files

Configuration is loaded in order of precedence:

1. **Global**: `~/.ripperdoc.json`
2. **Project**: `.ripperdoc/config.json`
3. **Local**: `.ripperdoc/config.local.json` (gitignored)

Project and local configuration override global configuration.

## Model Configuration

### Basic Model Setup

```json
{
  "model_profiles": {
    "default": {
      "provider": "openai_compatible",
      "model": "deepseek-chat",
      "api_key": "YOUR_DEEPSEEK_KEY",
      "api_base": "https://api.deepseek.com",
      "max_tokens": 4096,
      "temperature": 0.0
    }
  },
  "model_pointers": {
    "main": "default",
    "quick": "default"
  }
}
```

### Multiple Models

You can define multiple model profiles:

```json
{
  "model_profiles": {
    "default": {
      "provider": "openai_compatible",
      "model": "deepseek-chat",
      "api_key": "YOUR_DEEPSEEK_KEY",
      "api_base": "https://api.deepseek.com"
    },
    "reasoner": {
      "provider": "openai_compatible",
      "model": "deepseek-reasoner",
      "api_key": "YOUR_DEEPSEEK_KEY",
      "api_base": "https://api.deepseek.com",
      "thinking_mode": "deepseek"
    },
    "local": {
      "provider": "openai_compatible",
      "model": "llama3.2",
      "api_base": "http://localhost:11434/v1",
      "api_key": null
    }
  },
  "model_pointers": {
    "main": "default",
    "quick": "reasoner"
  }
}
```

Switch between profiles using the `/models` command or `--model` flag (use the profile name from `model_profiles`):

```bash
ripperdoc --model reasoner
```

### Model Profile Fields

| Field | Description | Required |
|-------|-------------|----------|
| `provider` | Provider type | Yes |
| `model` | Model identifier | Yes |
| `api_key` | API key (or use env var) | Provider-specific |
| `api_base` | API base URL | Provider-specific |
| `auth_token` | Bearer token authentication | No |
| `max_tokens` | Maximum output tokens | No |
| `temperature` | Sampling temperature | No |
| `thinking_mode` | Extended thinking mode | No |
| `context_window` | Context window size | No |
| `openai_tool_mode` | Tool calling mode for OpenAI | No |
| `input_cost_per_million_tokens` | Cost tracking (input) | No |
| `output_cost_per_million_tokens` | Cost tracking (output) | No |

### Provider Options

| Provider | Required Config | Description |
|----------|-----------------|-------------|
| `openai_compatible` | `api_base`, `model` | Any OpenAI-compatible API |
| `anthropic` | `api_key` | Anthropic Claude |
| `gemini` | `api_key` | Google Gemini |

### Authentication Options

```json
{
  "model_profiles": {
    "with_api_key": {
      "provider": "openai_compatible",
      "api_key": "sk-xxx",
      "api_base": "https://api.example.com/v1",
      "model": "model-name"
    },
    "with_bearer_token": {
      "provider": "openai_compatible",
      "auth_token": "your-bearer-token",
      "api_base": "https://api.example.com/v1",
      "model": "model-name"
    }
  }
}
```

## Thinking Mode

For models that support extended thinking (DeepSeek, Claude with extended thinking):

```json
{
  "model_profiles": {
    "reasoning": {
      "provider": "openai_compatible",
      "model": "deepseek-reasoner",
      "api_key": "YOUR_DEEPSEEK_KEY",
      "api_base": "https://api.deepseek.com",
      "thinking_mode": "deepseek"
    }
  }
}
```

Thinking mode options:

| Mode | Description |
|------|-------------|
| `none` | Disable extended thinking (default) |
| `deepseek` | DeepSeek-style thinking |
| `anthropic` | Anthropic-style thinking (Claude) |

### OpenAI Tool Mode

Control how tools are presented to OpenAI-compatible models:

```json
{
  "model_profiles": {
    "custom": {
      "provider": "openai_compatible",
      "model": "model-name",
      "openai_tool_mode": "native"
    }
  }
}
```

Options:
- `native` - Use OpenAI native tool calling
- `text` - Use text-based tool descriptions

## Cost Tracking

Track token costs per model:

```json
{
  "model_profiles": {
    "expensive": {
      "provider": "openai_compatible",
      "model": "gpt-4",
      "api_key": "YOUR_KEY",
      "api_base": "https://api.openai.com/v1",
      "input_cost_per_million_tokens": 30.0,
      "output_cost_per_million_tokens": 60.0
    }
  }
}
```

## Custom API Endpoints

For OpenAI-compatible APIs:

```json
{
  "model_profiles": {
    "custom": {
      "provider": "openai_compatible",
      "api_base": "https://your-api-endpoint.com/v1",
      "api_key": "YOUR_CUSTOM_KEY",
      "model": "your-model-name"
    }
  },
  "model_pointers": {
    "main": "custom",
    "quick": "custom"
  }
}
```

## Permission Settings

```json
{
  "allowed_tools": ["Read", "Glob", "Grep", "LS", "Edit", "Bash"],
  "bash_allow_rules": [
    {"pattern": "npm *", "description": "Allow npm"}
  ],
  "bash_deny_rules": [
    {"pattern": "rm -rf /", "description": "Block dangerous"}
  ]
}
```

See [Permissions](/docs/permissions) for detailed configuration.

## Theme Configuration

Ripperdoc includes a built-in theme system for customizing the CLI appearance. Configure your preferred theme in the global config:

```json
{
  "theme": "dark"
}
```

### Available Themes

| Theme | Description |
|-------|-------------|
| `dark` | Default dark theme with cyan accents |
| `light` | Light theme for bright terminals |
| `monokai` | Monokai-inspired color scheme |
| `dracula` | Dracula color scheme |
| `solarized_dark` | Solarized dark color scheme |
| `nord` | Arctic, bluish color scheme |

Switch themes at runtime using the `/themes` command:

```
> /themes              # Show current theme and list available
> /themes light        # Switch to light theme
> /themes preview nord # Preview nord theme colors
```

## CLI Options

| Option | Description |
|--------|-------------|
| `--model NAME` | Use a specific model profile |
| `--yolo` | Skip permission prompts |
| `--verbose` | Enable verbose output |
| `--max-thinking-tokens N` | Set max thinking tokens |
| `-c`, `--continue` | Continue last session |
| `-p`, `--prompt TEXT` | Non-interactive prompt |

## Environment Variables

API keys can be provided in the config file. Environment variables are optional and can be used instead.

| Variable | Description |
|----------|-------------|
| `ANTHROPIC_API_KEY` | Optional if you set `api_key` in config |
| `OPENAI_API_KEY` | Optional if you set `api_key` in config |
| `DEEPSEEK_API_KEY` | Optional if you set `api_key` in config |
| `GEMINI_API_KEY` | Optional if you set `api_key` in config |
| `RIPPERDOC_MAX_RETRIES` | Max API retries (default: 10) |
| `RIPPERDOC_API_TIMEOUT` | API timeout in seconds (default: 120) |

See [Environment Variables](/docs/environment-variables) for a complete list.
